# Self-Attention

## CNN的局限性

CNN模型的输入向量的形状是固定的，其输出向量的形状也是固定的或可以根据不同的下游任务而唯一确定。

:::tip

虽然FCN（Fully Convolution Network）可以接受任意尺寸的图像输入，但是最后是通过反卷积将图像还原到原始尺寸，其本质上输出向量的形状依然会发生变化。

:::

:::important

CNN本质上可以接受任意通道数的图像输入，但是其模型效果将会受到极大的影响。

以一个 CNN 模型使用通道数为 3 的数据集进行训练，但在测试阶段分别使用通道数为 1 和 6 的数据进行推理为例进行分析：

1. 通道数为1的测试集：

- 情况： 如果使用通道数为 1 的数据进行推理，即灰度图像，而模型在训练时是使用 RGB 数据集训练的，模型可能会受到一些影响。
- 解释： 模型可能在训练时学到了关于颜色的特定信息，而在测试时，如果输入是灰度图像，那些颜色信息将不可用。
- 建议： 在这种情况下，模型可能会失去对颜色信息的敏感性，可能需要进行进一步的调整或微调，以适应灰度图像的特性。

2. 通道数为6的测试集：

- 情况： 如果使用通道数为 6 的数据进行推理，模型可能会面临额外的挑战，因为它在训练时只见过 3 个通道的数据。
- 解释： 模型在训练时学到的权重是基于 3 个通道的数据的，对于额外的通道，模型可能无法有效利用这些信息。
- 建议： 对于通道数不匹配的情况，可以考虑进行通道的适当组合或调整。这可能包括降低通道数（例如，只使用前 3 个通道），或者通过某种方式将 6 个通道映射到 3 个通道，例如通过某种特定的数据预处理。

:::

